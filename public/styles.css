/* Global */
body, html {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', 'Arial', sans-serif;
  background: #f9f8fd;
  color: #22223b;
}

/* Top bar - for logo and SecureChat text */
.top-bar {
  width: 100vw;
  background: #d092ee;
  height: 70px; /* taller to fit large logo */
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding-left: 38px;
  position: fixed;
  top: 0; left: 0; z-index: 10;
  box-shadow: 0 2px 6px #e5cdee4a;
}

.header-logo {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 54px;
  width: 54px;
  background: linear-gradient(135deg,#ad55c3,#d092ee);
  border-radius: 14px;
  box-shadow: 0 3px 15px #e3bcfb60;
  overflow: hidden;
}

.header-logo img {
  width: 42px;
  height: 42px;
  display: block;
}

.header-title {
  font-size: 2.1rem;
  font-weight: 700;
  color: #fff;
  letter-spacing: 0.4px;
  margin-left: 18px;
  margin-right: 26px;
  line-height: 1.1;
  display: flex;
  align-items: center;
  height: 54px;
}
.header-secure {
  background: #fff;
  color: #b587c4;
  border: none;
  border-radius: 20px;
  font-weight: 600;
  font-size: 1.06rem;
  padding: 6px 22px;
  box-shadow: 0 2px 8px #e3bcfb59;
}
/* Menu Button & Dropdown */
.menu-btn {
  font-size: 26px;
  background: transparent;
  border: none;
  color: #fff;
  cursor: pointer;
  margin-left: 10px;
  margin-right: 15px;
  vertical-align: middle;
  transition: color 0.14s;
  padding: 0;
}
.menu-btn:hover { color: #f0e8fa; }

.menu-dropdown {
  background: white;
  border: 1px solid #d092ee;
  border-radius: 8px;
  box-shadow: 0 3px 12px rgba(208, 146, 238, 0.25);
  width: 140px;
}
.menu-dropdown ul {
  list-style: none;
  margin: 0;
  padding: 0;
}
.menu-dropdown ul li {
  padding: 11px 15px;
  border-bottom: 1px solid #f0e8fa;
  font-weight: 600;
  color: #ad55c3;
  cursor: pointer;
  transition: background 0.13s;
}
.menu-dropdown ul li:last-child { border-bottom: none; }
.menu-dropdown ul li:hover { background: #f7eafd; }
.menu-dropdown:not(.hidden) { display: block; }
.menu-dropdown.hidden { display: none; }

.logout-btn {
  margin-right: 36px;
  background: #fff;
  color: #ad55c3;
  border: 2px solid #ad55c3;
  border-radius: 13px;
  font-weight: 600;
  font-size: 1rem;
  padding: 6px 20px;
  cursor: pointer;
  transition: background 0.14s, color 0.14s;
}
.logout-btn:hover { background: #d092ee; color: #fff; }

/* Login page */
.login-centerbox {
  width: 100vw; height: calc(100vh - 58px);
  display: flex; align-items: center; justify-content: center;
}
.login-card {
  background: #fff; border-radius: 21px; box-shadow: 0 2px 32px #d092ee1a;
  width: 390px; padding: 44px 36px 32px 36px;
}
.login-card-title {
  font-size: 2.1rem; font-weight: 700; text-align: center; margin-bottom: 20px;
  color: #473064; letter-spacing: 0.2px;
}
.login-tabs { display: flex; justify-content: center; margin-bottom: 24px; gap: 16px; }
.login-tab-btn {
  flex: 1; border: 2px solid #ad55c3; border-radius: 9px; background: #fff; color: #ad55c3;
  padding: 10px 0; margin: 0 5px; font-size: 1.09rem; font-weight: 500; cursor: pointer;
  transition: background 0.16s, color 0.16s;
}
.login-tab-btn.active { background: #d092ee; color: #fff; border: 2px solid #d092ee; font-weight: 700; }
.login-switch-info { text-align: center; font-size: 1rem; color: #72648e; margin: 5px 0 10px; }
.login-link { color: #ad55c3; font-weight: 600; cursor: pointer; text-decoration: underline; margin-left: 3px; }
#login-form, #register-form { display: flex; flex-direction: column; }
#login-form input, #register-form input {
  margin-bottom: 19px; border-radius: 10px; border: 1.5px solid #d092ee; padding: 14px; font-size: 1.12rem;
  transition: border 0.17s, background 0.17s; outline: none; background: #fff;
}
#login-form input:focus, #register-form input:focus { border-color: #b587c4; background: #f5eafd; }
.flat-wide {
  width: 100%; background: linear-gradient(90deg, #ad55c3 67%, #d092ee 130%);
  border: none; color: #fff; border-radius: 15px; font-size: 1.13rem; font-weight: 600;
  padding: 13px 0; margin: 7px 0 11px; cursor: pointer; box-shadow: 0 1px 10px #d092ee60;
  transition: background 0.17s;
}
.flat-wide:hover { background: linear-gradient(90deg, #b587c4 80%, #e3bcfb 120%); }
.error-msg { color: #d72660; font-size: 0.98rem; text-align: center; margin-top: 7px; }
.success-msg { color: #0aa354; font-size: 0.97rem; text-align: center; margin-top: 7px; }

/* Chat layout */
.chat-main-container {
  display: flex; height: calc(100vh - 57px); margin-top: 57px; box-sizing: border-box;
}

/* Sidebar */
.sidebar {
  width: 295px; background: #f6e9fb; border-right: 1.5px solid #e5d2f7;
  display: flex; flex-direction: column; padding-top: 28px;
}
#user-search {
  width: 76%; margin: 6px auto 24px; padding: 9px 16px; background: #fff;
  border: 2px solid #e9d8fd; border-radius: 24px; font-size: 1rem; color: #39355b; font-weight: 500;
}
ul#user-list { list-style: none; margin: 0; padding: 0; }
.user-item { position: relative; }
.unread-badge {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  border-radius: 12px;
  background: #d72660;
  color: #fff;
  font-size: 12px;
  font-weight: 700;
  display: none;           /* hidden when 0 */
  align-items: center;
  justify-content: center;
}
.unread-badge.show { display: inline-flex; }

.user-item {
  display: flex; align-items: center; background: #fff; border-radius: 18px;
  padding: 13px 14px 13px 10px; margin: 0 8px 10px; cursor: pointer; transition: background 0.13s;
  border: 1.5px solid #f0def8;
}
.user-item:hover, .user-item.selected { background: #ecd7f4; }
.user-avatar {
  width: 34px; height: 34px; font-size: 1.09rem; background: #f7d2ea; color: #803d8b;
  border-radius: 50%; margin-right: 12px; display: flex; align-items: center; justify-content: center;
  font-weight: bold; text-transform: uppercase; letter-spacing: 0.25px; border: 1px solid #e3bbf4;
}
.status-dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 7px; background: #b0ead2; border: 1.1px solid #fff; }
.status-dot.online { background: #14c96e; }
.status-dot.offline { background: #dedbe8; }
.username { font-size: 1.08rem; font-weight: 600; }

/* Chat area */
.chat-container { flex: 1; background: #fff; display: flex; flex-direction: column; position: relative; }
.chat-header {
  padding: 18px 0 9px 32px; min-height: 44px; border-bottom: 1.2px solid #e5cdee; margin-bottom: 2px;
  background: none; letter-spacing: 0.5px; font-size: 1.17rem; color: #ad55c3; font-weight: 700;
}
.chat-title-bar { display: inline-flex; align-items: center; gap: 10px; background: #f7eafd; border-radius: 22px; padding: 7px 16px; }
.chat-header-username { font-weight: 700; color: #ad55c3; }

/* Messages */
.chat-messages {
  flex: 1; padding: 23px 28px 10px 28px; overflow-y: auto; background: linear-gradient(to bottom,#f7f3fa 0%,#fff 60%);
}
.msg-row { display: flex; align-items: flex-end; gap: 8px; margin-bottom: 16px; }
.msg-row.sent { justify-content: flex-end; }
.msg-row.received { justify-content: flex-start; }
.msg-bubble {
  background: #fee2ef; color: #7a396c; padding: 10px 18px; border-radius: 15px 14px 18px 17px;
  min-width: 44px; max-width: 420px; font-size: 1.04rem; font-weight: 600; word-break: break-word; position: relative; margin-top: 4px;
}
.msg-row.sent .msg-bubble { background: #d092ee; color: #fff; border-radius: 13px 17px 17px 13px; }
.bubble-meta { font-size: 0.93em; color: #ad55c3; margin-top: 5px; display: flex; align-items: center; }
.read-receipt { font-size: 1em; color: #68027a; margin-left: 6px; }

/* Input row */
.chat-input { display: flex; align-items: center; padding: 13px 32px 18px; background: #fff; border-radius: 0 0 22px 22px; }
#message-input {
  flex: 1; padding: 10px 16px; border-radius: 11px; border: 1.5px solid #d092ee;
  font-size: 1.01rem; background: #fffbfe; color: #6d4c91; margin-right: 11px; font-weight: 500; outline: none;
}
.send-button {
  background: #4b1678; color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: bold;
  padding: 8px 18px; cursor: pointer; transition: background 0.13s; box-shadow: 0 0 4px #e5d2f7;
}
.send-button:hover { background: #733292; }

/* Responsive */
@media (max-width: 950px) {
  .chat-main-container { flex-direction: column; }
  .sidebar { width: 100%; padding-top: 12px; }
}
.login-tab-btn.active { background: #d092ee; color: #fff; border: 2px solid #d092ee; font-weight: 700;}
.login-tab-btn {
  flex: 1; border: 2px solid #ad55c3; border-radius: 8px; background: #fff; color: #ad55c3;
  padding: 10px 0; margin: 0 3px; font-size: 1.04rem; font-weight: 600; cursor: pointer;
  transition: background 0.13s, color 0.13s;
}
.flat-wide {
  width: 100%; background: linear-gradient(90deg, #ad55c3 67%, #d092ee 130%);
  border: none; color: #fff; border-radius: 10px; font-size: 1.13rem; font-weight: 600;
  padding: 11px 0; margin: 7px 0 11px; cursor: pointer; box-shadow: 0 1px 8px #d092ee34;
  transition: background 0.14s;
}
.flat-wide:hover { background: linear-gradient(90deg, #b587c4 80%, #e3bcfb 120%);}
.login-link { color: #ad55c3; font-weight: 600; cursor: pointer; text-decoration: underline; margin-left: 3px;}
.error-msg { color: #d72660; font-size: 0.98rem; text-align: center;}
.success-msg { color: #0aa354; font-size: 0.97rem; text-align: center;
}.hero-right {
  flex: 1;
  min-width: 350px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 14px;
  margin-top: 0;
}
/* First Image â†’ Bigger Zoom-in */
.hero-img:nth-child(1) {
  max-width: 720px;
  animation: fadeUpInBig 4s cubic-bezier(0.19, 1, 0.22, 1) forwards;
}
.hero-img:nth-child(2) {
  max-width: 580px;
  animation: fadeUpInSmall 4.3s cubic-bezier(0.19, 1, 0.22, 1) forwards;
  animation-delay: 1.5s;
}
/* Animations */
@keyframes fadeUpInBig {
  to {
    opacity: 1;
    transform: translateY(0) scale(1.06);  /* Slight zoom for big */
  }
}

@keyframes fadeUpInSmall {
  to {
    opacity: 1;
    transform: translateY(0) scale(1.00);
  }
}
.topbar-spacer { flex: 1 1 auto; }
.top-bar { display: flex; align-items: center; }
.logout-btn { display: inline-flex; align-items: center; }
.menu-btn-right { margin-left: 12px; margin-right: 16px; }
 
/* Keep right-side buttons inside the bar */
.top-bar {
  padding-right: 16px;      /* room at the right edge */
  box-sizing: border-box;   /* respect padding with width */
}
/* Ensure the menu icon doesn't stick to the edge */
.menu-btn {
  line-height: 1;
  height: 32px;             /* consistent tap target */
  width: 32px;              /* square icon area */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
/* Right-aligned spacing after Logout */
.menu-btn-right {
  margin-left: 12px;
  margin-right: 4px;        /* small, not zero */
}
/* Optional: keep Logout from hugging edge */
.logout-btn {
  margin-right: 10px;       /* replace larger margins if needed */
}
.top-bar { padding-right: 16px; box-sizing: border-box; }
/* Settings layout */
.settings-body { background: #f9f8fd; }
.settings-container {
  margin-top: 70px;
  display: flex;
  min-height: calc(100vh - 70px);
}
.settings-sidebar {
  width: 260px;
  background: #f6e9fb;
  border-right: 1.5px solid #e5d2f7;
  padding: 20px 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.settings-tab-btn {
  border: 2px solid #ad55c3;
  background: #fff;
  color: #ad55c3;
  font-weight: 600;
  border-radius: 10px;
  padding: 10px 14px;
  cursor: pointer;
  text-align: left;
}
.settings-tab-btn.active, .settings-tab-btn:hover { background: #d092ee; color: #fff; border-color: #d092ee; }

.settings-content {
  flex: 1;
  padding: 24px 28px;
  background: #fff;
}
.settings-panel h2 {
  color: #473064;
  margin-top: 0;
}
.hidden { display: none; }
.toggle-row {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: 1.5px solid #e5d2f7;
  border-radius: 10px;
  padding: 10px 14px;
  background: #fffbfe;
}
.hint { color: #6d4c91; }

/* Key-value row */
.kv-row { display: flex; gap: 10px; margin: 12px 0; }
.kv-key { width: 120px; color: #6d4c91; font-weight: 600; }
.kv-val { color: #22223b; font-weight: 700; }

/* Dark theme */
:root.theme-dark, .theme-dark body {
  background: #17151f;
  color: #eae7f7;
}
.theme-dark .top-bar { background: #5f3d81; box-shadow: 0 2px 6px rgba(0,0,0,0.25); }
.theme-dark .header-secure { background: #3b2a4e; color: #e3bcfb; }
.theme-dark .logout-btn { background: #3b2a4e; color: #e3bcfb; border-color: #b78ee6; }
.theme-dark .sidebar, .theme-dark .settings-sidebar { background: #221b2f; border-color: #3a2d4c; }
.theme-dark .chat-container, .theme-dark .settings-content { background: #1f1a2a; }
.theme-dark .chat-messages { background: linear-gradient(to bottom, #241f32 0%, #1f1a2a 60%); }
.theme-dark #user-search { background: #2a2340; border-color: #3a2d4c; color: #eae7f7; }
.theme-dark .user-item { background: #2a2340; border-color: #3a2d4c; }
.theme-dark .user-item:hover, .theme-dark .user-item.selected { background: #33284a; }
.theme-dark .msg-bubble { background: #3a2b4f; color: #eae7f7; }
.theme-dark .msg-row.sent .msg-bubble { background: #7a55ad; color: #fff; }
.theme-dark .chat-header { border-bottom-color: #3a2d4c; color: #e3bcfb; }
.theme-dark #message-input { background: #2a2340; border-color: #7a55ad; color: #eae7f7; }
.theme-dark .send-button { background: #7a55ad; }
.theme-dark .menu-dropdown { background: #2a2340; border-color: #7a55ad; }
.theme-dark .menu-dropdown ul li { color: #e3bcfb; border-bottom-color: #3a2d4c; }
.theme-dark .toggle-row { background: #2a2340; border-color: #3a2d4c; }